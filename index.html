<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div id="main">
        <!--Stazioni-->
        <div id="start">
            <img id="frame_start" src="Assets\Frames\FrameStart.webp">
            
            <button id="button_start_to_soggiorno">
                Go to the Living Room
            </button>
        </div>
        
        
        <div id="soggiorno">
            <img id="frame_soggiorno" src="Assets\Frames\FrameSoggiorno.webp">
            <button id="button_soggiorno_to_sofa">
                Go to the sofa
            </button>
            
            
            <button id="button_soggiorno_to_TV">
                Go to the TV
            </button>
            
            
            <button id="button_soggiorno_to_book">
                Go to book shelving
            </button>

            <div id="box_info_soggiorno">
                This beautiful set is the perfect piece to reflect your regal tastes, this living room set anchors your seating ensemble in timeless appeal. Daedalus XR fabric upholstery brings out this set glamorous side, while exquisite details include high-density foam fill.
            </div>
            
        </div>



        <div id="sofa">
            <img id="frame_sofa" src="Assets\Frames\FrameSofa.webp">
            
            <button id="button_sofa_to_kitchen">
                Go to the kitchen
            </button>
            
            
            <button id="button_sofa_to_book">
                Go to the book shelving
            </button>
            
            
            <button id="button_sofa_to_TV">
                Go to the TV
            </button>

            <div id="box_info_sofa">
                This beautiful set is the perfect piece to reflect your regal tastes, this living room set anchors your seating ensemble in timeless appeal. Daedalus XR fabric upholstery brings out this set glamorous side, while exquisite details include high-density foam fill.
            </div>
            
        </div>
        
        <div id="cucina">
            <img id="frame_cucina" src="Assets\Frames\FrameCucina.webp">
            
            <button id="button_cucina_to_sink">
                Go to the sink
            </button>
            
            
            <button id="button_cucina_to_table">
                Go to the table
            </button>
            
            
            <button id="button_cucina_to_stove">
                Go to the stove
            </button>

            <div id="box_info_cucina">
                This beautiful set is the perfect piece to reflect your regal tastes, this living room set anchors your seating ensemble in timeless appeal. Daedalus XR fabric upholstery brings out this set glamorous side, while exquisite details include high-density foam fill.
            </div>
            
        </div>


        <!--Next Video Containers-->
        <video id="video1" preload="auto"> <source src="Assets\Video\VideoSequence1 1080p.mp4" type="video/mp4"></video>
        
        <div id="next_video1" ></div>
        <div id="next_video2" ></div>
        <div id="next_video3" ></div>
        <div id="next_video4" ></div>
        <div id="next_video5" ></div>
        <div id="next_video6" ></div>
        
        
        
    </div>   
    



</body>

<script>

    var video_sx_canplay= false;
    var video_mid_canplay= false;
    var video_dx_canplay= false;

    var idVideo1 = "video1";
    var idVideo2 = "video2";
    var idVideo3 = "video3";
    var idVideo4 = "video4";
    var idVideo5 = "video5";
    var idVideo6 = "video6";
    var idVideo7 = "video7";
    var idVideo8 = "video8";
    var idVideo9 = "video9";
    var idVideo10 = "video10";
    var idVideo11= "video11";
    var idVideo12 = "video12";
    var idVideo13 = "video13";
    var idVideo14 = "video14";
    var idVideo15 = "video15";
    var idVideo16 = "video16";

    var idStationStart = "start";
    var idStationBookShelver = "book_shelver";
    var idStationCucina = "cucina";
    var idStationSink = "sink";
    var idStationSofa = "sofa";
    var idStationSoggiorno = "soggiorno";
    var idStationStove = "stove";
    var idStationTable = "table";
    var idStationTV = "TV";

    var tagVideo1= ' <video id="video1" preload="auto"> <source src="Assets/Video/VideoSequence1 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo2= ' <video id="video2" preload="auto"> <source src="Assets/Video/VideoSequence2 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo3= ' <video id="video3" preload="auto"> <source src="Assets/Video/VideoSequence3 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo4= ' <video id="video4" preload="auto"> <source src="Assets/Video/VideoSequence4 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo5= ' <video id="video5" preload="auto"> <source src="Assets/Video/VideoSequence5 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo6= ' <video id="video6" preload="auto"> <source src="Assets/Video/VideoSequence6 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo7= ' <video id="video7" preload="auto"> <source src="Assets/Video/VideoSequence7 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo8= ' <video id="video8" preload="auto"> <source src="Assets/Video/VideoSequence8 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo9= ' <video id="video9" preload="auto"> <source src="Assets/Video/VideoSequence9 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo10= ' <video id="video10" preload="auto"> <source src="Assets/Video/VideoSequence10 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo11= ' <video id="video11" preload="auto"> <source src="Assets/Video/VideoSequence11 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo12= ' <video id="video12" preload="auto"> <source src="Assets/Video/VideoSequence12 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo13= ' <video id="video13" preload="auto"> <source src="Assets/Video/VideoSequence13 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo14= ' <video id="video14" preload="auto"> <source src="Assets/Video/VideoSequence14 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo15= ' <video id="video15" preload="auto"> <source src="Assets/Video/VideoSequence15 1080p.mp4" type="video/mp4"></video> ';
    var tagVideo16= ' <video id="video16" preload="auto"> <source src="Assets/Video/VideoSequence16 1080p.mp4" type="video/mp4"></video> ';


    

    $("#video1").on('canplaythrough', function() {
        video_mid_canplay=true;
        console.log('I think I can play video 1');
    });

    function FromStartToSoggiorno() {
        $("#video1").remove();
        $("#start").hide();
        $("#soggiorno").show();
            
    }

    
    function SwitchStation(video1, video2,video3,station1,station2){
        $("#" +video1).remove();
        $("#" +video2).remove();
        $("#" +video3).remove();
        $("#" +station1).hide();
        $("#" +station2).show();
    }

    function SetVideoCanPlayFalse() {
        video_sx_canplay= false;
        video_mid_canplay= false;
        video_dx_canplay= false;
    }


    function ButtonClicked (VideoCanPlay, videoTag1, videoTag2, videoTag3, idVideomid, idVideosx, idVideodx, idVideoToPlay, idPrevVideo2, idPrevVideo3, idPrevSection,idNewSection) {
        if (VideoCanPlay) {
                SetVideoCanPlayFalse();
            

                if ($("#next_video1").html()){
                    
                    $(videoTag1).appendTo("#next_video4");
                    $(videoTag2).appendTo("#next_video5");
                    $(videoTag3).appendTo("#next_video6");


                    $("#"+idVideomid).on('canplaythrough', function() {
                        video_mid_canplay=true;
                        console.log('I think I can play video mic');
                    });
            
                    $("#"+idVideosx).on('canplaythrough', function() {
                        video_sx_canplay=true;
                        console.log('I think I can play videosx');
                    });
            
                    $("#"+idVideodx).on('canplaythrough', function() {
                        video_dx_canplay=true;
                        console.log('I think I can play videodx');
                    });
                }
                
                else {
                    $(videoTag1).appendTo("#next_video1");
                    $(videoTag2).appendTo("#next_video2");
                    $(videoTag3).appendTo("#next_video3");


                    $("#"+idVideomid).on('canplaythrough', function() {
                        video_mid_canplay=true;
                        console.log('I think I can play video mic');
                    });
            
                    $("#"+idVideosx).on('canplaythrough', function() {
                        video_sx_canplay=true;
                        console.log('I think I can play videosx');
                    });
            
                    $("#"+idVideodx).on('canplaythrough', function() {
                        video_dx_canplay=true;
                        console.log('I think I can play videodx');
                    });
                }
                
                
                $("#"+idVideoToPlay).css("z-index", "1")
                $("#"+idVideoToPlay).get(0).play()
                setTimeout(SwitchStation, 5000,  idVideoToPlay, idPrevVideo2, idPrevVideo3, idPrevSection,idNewSection);
            }
            
            else {
                console.log("video  not ready,wait");
                setTimeout(ButtonClicked, 1000, VideoCanPlay, videoTag1, videoTag2, videoTag3, idVideomid, idVideosx, idVideodx, idVideoToPlay, idPrevVideo2, idPrevVideo3, idPrevSection,idNewSection);
            }
    }

    function button1Clicked () {
            if (video_mid_canplay) {

                video_mid_canplay=false;
                
                $(tagVideo2).appendTo("#next_video1");
                $(tagVideo3).appendTo("#next_video2");
                $(tagVideo4).appendTo("#next_video3");


                $("#video2").on('canplaythrough', function() {
                    video_mid_canplay=true;
                    console.log('I think I can play videomid');
                });
                
                $("#video3").on('canplaythrough', function() {
                    video_sx_canplay=true;
                    console.log('I think I can play videosx');
                });

                $("#video4").on('canplaythrough', function() {
                    video_dx_canplay=true;
                    console.log('I think I can play videodx');
                });
                
                

                $("#video1").css("z-index", "1")
                $('#video1').get(0).play()
                setTimeout(FromStartToSoggiorno,5000);
            }

            else {
                console.log("video not ready,wait");
                setTimeout(button1Clicked,1000);
            }
    }



    $(document).ready(function(){
        $("#soggiorno").hide()
        $("#sofa").hide()
        $("#cucina").hide()



        $("#button_start_to_soggiorno").click(function(){
            if (video_mid_canplay) {

                button1Clicked();
            }       
        });

        
        $("#button_soggiorno_to_sofa").click(function() {
            ButtonClicked (video_mid_canplay, tagVideo8, tagVideo9, tagVideo5, idVideo8, idVideo9, idVideo5, idVideo2,idVideo3,idVideo4,idStationSoggiorno,idStationSofa);
        });   
            

        $("#button_sofa_to_kitchen").click(function(){
            ButtonClicked(video_mid_canplay, tagVideo11, tagVideo12, tagVideo13, idVideo11, idVideo12, idVideo13, idVideo8, idVideo9,idVideo5, idStationSofa, idStationCucina);
        });

    
    
    
    
    });
    </script> 
</html>