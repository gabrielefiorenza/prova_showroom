<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div id="main">
        <!--Stazioni-->
        <div id="start">
            <img id="frame_start" src="Assets\Frames\FrameStart.webp">
            
            <button id="button_start_to_soggiorno">
                Go to the Living Room
            </button>
        </div>
        
        
        <div id="soggiorno">
            <img id="frame_soggiorno" src="Assets\Frames\FrameSoggiorno.webp">
            <button id="button_soggiorno_to_sofa">
                Go to the sofa
            </button>
            
            
            <button id="button_soggiorno_to_TV">
                Go to the TV
            </button>
            
            
            <button id="button_soggiorno_to_book">
                Go to book shelving
            </button>

            <div id="box_info_soggiorno">
                This beautiful set is the perfect piece to reflect your regal tastes, this living room set anchors your seating ensemble in timeless appeal. Daedalus XR fabric upholstery brings out this set glamorous side, while exquisite details include high-density foam fill.
            </div>
            
        </div>



        <div id="sofa">
            <img id="frame_sofa" src="Assets\Frames\FrameSofa.webp">
            
            <button id="button_sofa_to_kitchen">
                Go to the kitchen
            </button>
            
            
            <button id="button_sofa_to_book">
                Go to the book shelving
            </button>
            
            
            <button id="button_sofa_to_TV">
                Go to the TV
            </button>

            <div id="box_info_sofa">
                This beautiful set is the perfect piece to reflect your regal tastes, this living room set anchors your seating ensemble in timeless appeal. Daedalus XR fabric upholstery brings out this set glamorous side, while exquisite details include high-density foam fill.
            </div>
            
        </div>
        
        <div id="cucina">
            <img id="frame_cucina" src="Assets\Frames\FrameCucina.webp">
            
            <button id="button_cucina_to_sink">
                Go to the sink
            </button>
            
            
            <button id="button_cucina_to_table">
                Go to the table
            </button>
            
            
            <button id="button_cucina_to_stove">
                Go to the stove
            </button>

            <div id="box_info_cucina">
                This beautiful set is the perfect piece to reflect your regal tastes, this living room set anchors your seating ensemble in timeless appeal. Daedalus XR fabric upholstery brings out this set glamorous side, while exquisite details include high-density foam fill.
            </div>
            
        </div>


        <!--Next Video Containers-->
        <video id="video1" preload="auto"> <source src="Assets\Video\VideoSequence1 1080p.mp4" type="video/mp4"></video>
        
        <div id="next_video1" ></div>
        <div id="next_video2" ></div>
        <div id="next_video3" ></div>
        <div id="next_video4" ></div>
        <div id="next_video5" ></div>
        <div id="next_video6" ></div>
        
        
        
    </div>   
    



</body>

<script>

    var video_sx_canplay= false;
    var video_mid_canplay= false;
    var video_dx_canplay= false;

    $("#video1").on('canplaythrough', function() {
        video_mid_canplay=true;
        console.log('I think I can play video 1');
    });

    function FromStartToSoggiorno() {
        $("#video1").remove();
        $("#start").hide();
        $("#soggiorno").show();
            
    }

    function FromSoggiornoToSofa(){
        $("#video2").remove();
        $("#video3").remove();
        $("#video4").remove();
        $("#soggiorno").hide();
        $("#sofa").show();
    }

    function FromSofaToCucina(){
        $("#video8").remove();
        $("#video9").remove();
        $("#video5").remove();
        $("#sofa").hide();
        $("#cucina").show();
    }



    $(document).ready(function(){
        $("#soggiorno").hide()
        $("#sofa").hide()
        $("#cucina").hide()

        $("#button_start_to_soggiorno").click(function(){
            if (video_mid_canplay) {

                video_mid_canplay=false;
                //$.get("Assets/Video/VideoSequence2 1080p.mp4", function(){//
                $(' <video id="video2" preload="auto"> <source src="Assets/Video/VideoSequence2 1080p.mp4" type="video/mp4"></video> ').appendTo("#next_video1");
                //});//
                $("#video2").on('canplaythrough', function() {
                    video_mid_canplay=true;
                    console.log('I think I can play video2');
                });
                
            
                //$.get("Assets/Video/VideoSequence3 1080p.mp4", function(){//
                $(' <video id="video3" preload="auto"> <source src="Assets/Video/VideoSequence3 1080p.mp4" type="video/mp4"></video>  ').appendTo("#next_video2");
                //});//
                $("#video3").on('canplaythrough', function() {
                    video_sx_canplay=true;
                    console.log('I think I can play video3');
                });

                //$.get("Assets/Video/VideoSequence4 1080p.mp4", function(){//
                $(' <video id="video4" preload="auto"> <source src="Assets/Video/VideoSequence4 1080p.mp4" type="video/mp4"></video>  ').appendTo("#next_video3");
                //});//
                $("#video4").on('canplaythrough', function() {
                    video_dx_canplay=true;
                    console.log('I think I can play video4');
                });
                
                
                $("#video1").css("z-index", "1")
                $('#video1').get(0).play()
                setTimeout(FromStartToSoggiorno,5000);
            }

            else {
                console.log("video 1 not ready");
            }
              
        });

        $("#button_soggiorno_to_sofa").click(function(){
            if ($("#next_video1").html()){
                $(' <video id="video8" preload="auto"> <source src="Assets/Video/VideoSequence8 1080p.mp4" type="video/mp4"></video> ').appendTo("#next_video4");
       
          
                $(' <video id="video9" preload="auto"> <source src="Assets/Video/VideoSequence9 1080p.mp4" type="video/mp4"></video>  ').appendTo("#next_video5");
    
         
                $(' <video id="video5" preload="auto"> <source src="Assets/Video/VideoSequence5 1080p.mp4" type="video/mp4"></video>  ').appendTo("#next_video6");
 
            }
            
            else {
                $(' <video id="video8" preload="auto"> <source src="Assets/Video/VideoSequence8 1080p.mp4" type="video/mp4"></video> ').appendTo("#next_video1");
       
          
                $(' <video id="video9" preload="auto"> <source src="Assets/Video/VideoSequence9 1080p.mp4" type="video/mp4"></video>  ').appendTo("#next_video2");
    
         
                $(' <video id="video5" preload="auto"> <source src="Assets/Video/VideoSequence5 1080p.mp4" type="video/mp4"></video>  ').appendTo("#next_video3");
 
            }
            
            
            $("#video2").css("z-index", "1")
            $('#video2').get(0).play()
            setTimeout(FromSoggiornoToSofa,5000);

        });
            

        $("#button_sofa_to_kitchen").click(function(){
            if ($("#next_video1").html()){
                $(' <video id="video11" preload="auto"> <source src="Assets/Video/VideoSequence11 1080p.mp4" type="video/mp4"></video> ').appendTo("#next_video4");
       
          
                $(' <video id="video12" preload="auto"> <source src="Assets/Video/VideoSequence12 1080p.mp4" type="video/mp4"></video>  ').appendTo("#next_video5");
    
         
                $(' <video id="video13" preload="auto"> <source src="Assets/Video/VideoSequence13 1080p.mp4" type="video/mp4"></video>  ').appendTo("#next_video6");
 
            }
            
            else {
                $(' <video id="video11" preload="auto"> <source src="Assets/Video/VideoSequence11 1080p.mp4" type="video/mp4"></video> ').appendTo("#next_video1");
       
          
                $(' <video id="video12" preload="auto"> <source src="Assets/Video/VideoSequence12 1080p.mp4" type="video/mp4"></video>  ').appendTo("#next_video2");
    
         
                $(' <video id="video13" preload="auto"> <source src="Assets/Video/VideoSequence13 1080p.mp4" type="video/mp4"></video>  ').appendTo("#next_video3");
 
            }
            $("#video8").css("z-index", "1")
            $('#video8').get(0).play()
            setTimeout(FromSofaToCucina,5000);
        });

    });
    </script> 
</html>